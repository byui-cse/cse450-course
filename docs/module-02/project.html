<!DOCTYPE html>
<html>
<head>
	<title>Module 02 — Targeted Marketing, Project</title>
    <style>
        @font-face {
            font-family: 'icomoon';
            src: url('https://byui-cse.github.io/cse450-course/shared/fonts/byui/icomoon.eot');
            src: url('https://byui-cse.github.io/cse450-course/shared/fonts/byui/icomoon.eot#iefix-8k8p81') format('embedded-opentype'), url('https://byui-cse.github.io/cse450-course/shared/fonts/byui/icomoon.ttf') format('truetype'), url('https://byui-cse.github.io/cse450-course/shared/fonts/byui/icomoon.woff') format('woff'), url('https://byui-cse.github.io/cse450-course/shared/fonts/byui/icomoon.svg#icomoon') format('svg');
            font-weight: normal;
            font-style: normal;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://byui-cse.github.io/cse450-course/shared/reset.css">
    <link rel="stylesheet" type="text/css" href="https://byui-cse.github.io/cse450-course/shared/fonts/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://byui-cse.github.io/cse450-course/shared/lib/katex/katex.min.css">
    <link rel="stylesheet" type="text/css" href="https://byui-cse.github.io/cse450-course/shared/lib/highlight/styles/monokai-sublime.min.css">
	<link rel="stylesheet" type="text/css" href="https://byui-cse.github.io/cse450-course/shared/cse450.css?v1.5">
    <meta charset="utf-8">

</head>
<body class="">
     <div id="modal-screen">
        <div id="contents-wrapper">
            <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#tips-from-johnny">Tips from Johnny</a></li>
</ul>
</div>

            <a href="#" id="hide-contents" title="Close Table of Contents"><i class="far fa-window-close"></i></a>
        </div>
    </div>
	<header>
        <span class="icon-byui-logo"></span>
        <div id="titles">
            <h1>CSE 450 - Machine Learning</h1>
            <h2>Module 02 — Targeted Marketing, Project</h2>
            <nav><a href="https://byui-cse.github.io/cse450-course"><i class="fas fa-home"></i></a><a href="https://byui-cse.github.io/cse450-course/module-01/">Module 1</a><a href="https://byui-cse.github.io/cse450-course/module-02/">Module 2</a><a href="https://byui-cse.github.io/cse450-course/module-03/">Module 3</a><a href="https://byui-cse.github.io/cse450-course/module-04/">Module 4</a><a href="https://byui-cse.github.io/cse450-course/module-05/">Module 5</a><a href="https://byui-cse.github.io/cse450-course/module-06/">Module 6</a><a href="https://byui-cse.github.io/cse450-course/module-07/">Module 7</a></nav>
        </div>
        <a href="#" id="show-contents" title="Show Table of Contents"><i class="far fa-list-alt"></i></a>
    </header>
	<article>
		<h2 id="overview">Overview</h2>
<p>After a few more meetings, Beatriz has assigned your team to address the following issues asked by the stakeholders:</p>
<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/miguel.jpg">
    <h5>Miguel Ferreira, Bank President asks:</h5>
    <blockquote><p>Like I said the other day, the core task we're interested in is identifying those customers most likely to subscribe to a term deposit.</p><p>This way, we can build a targeted marketing campaign that focuses primarily on those customers.</p>
    </blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/francisco.jpg">
    <h5>Francisco, VP of Marketing says:</h5>
    <blockquote><p>And I'd like you to find any actionable patterns in our results. Should we only call single people on Saturdays? Does it make sense to call students at all?</p><p>Things like that.</p></blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/miguel.jpg">
    <h5>Miguel Ferreira, Bank President adds:</h5>
    <blockquote><p>One other thing we should probably address, does contacting people too frequently for these marketing campaigns have an adverse affect on the outcome?</p>
    </blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/beatriz.jpg">
    <h5>Beatriz, Senior Data Scientist says:</h5>
    <blockquote><p>One last thing, there are a bunch of social and economic indicators in the data.</p><p>We should be careful about how we consider these. We may want to see separate models for times when, for example, the consumer confidence index is high compared to when it is low.</p></blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/miguel.jpg">
    <h5>Miguel Ferreira, Bank President adds:</h5>
    <blockquote><p>Good thought Beatriz. Different customer segments tend to react to economic changes differently.</p><p>We'll definitely want to know if it's better to use a particular model during different economic situations.</p>
    </blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/beatriz.jpg">
    <h5>Beatriz, Senior Data Scientist says:</h5>
    <blockquote><p>One last thing, since we're planning on deploying these models, we'll want to make sure that once you have the models trained and tested, that you <a href="https://scikit-learn.org/stable/modules/model_persistence.html">persist those trained models to a file</a> so we can load them into our production systems.</p></blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/francisco.jpg">
    <h5>Francisco, VP of Marketing says:</h5>
    <blockquote><p>I have an additional request. We just received the results of our last marketing campaign and want to test your model against the list to see what impact it would have had against our bottom line. Could you run the list through your model and make some predictions for us?</p><p>You can access the data here: <a href="https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bank_holdout_test.csv">https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bank_holdout_test.csv</a></p>
    <p>Then, please submit a csv file that has a <strong>single column</strong>, with the header "predictions" and a prediction (one per row) for each individual in this file. If we should contact the individual, predict a 1. If we shouldn't contact the individual, predict a 0 for that row. There should be 4,119 predictions in the csv file when completed.</p>
    <p>Here is an example of what the csv should look like when finished (if your model had predicted to not contact anyone. Hopefully your csv has more 1s in it.): <a href="https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bank_csv_answers_sample.csv">https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bank_csv_answers_sample.csv</a>
    </blockquote>
</div>

<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/miguel.jpg">
    <h5>Miguel Ferreira, Bank President adds:</h5>
    <blockquote><p>Sounds like we have enough to get started. If you could send us <a href='https://byui-cse.github.io/cse450-course/course/executive-summary.docx'>your write up on this</a>, that would be great.</p>
    </blockquote>
</div>

<div class="admonition note">
<p class="admonition-title">Team Project Expectations</p>
<p>Be sure to read over the <a href="../course/projects.html">Team Project Expectations</a> guide to know what the expectations are for this and future projects.</p>
</div>
<h2 id="tips-from-johnny">Tips from Johnny</h2>
<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/johnny.jpg">
    <h5>Johnny, the data science intern, whispers to you after the meeting:</h5>
    <blockquote><p>Hey, I put together a list of tips and ideas that might help us out:</p></blockquote>
</div>

<div class="admonition note">
<p class="admonition-title">Data Dictionary</p>
<p>Our database analyst put together this <a href="./bank-dictionary.txt">data dictionary</a> to help explain the values and sources of different columns in the <a href="https://raw.githubusercontent.com/byui-cse/cse450-course/master/data/bank.csv">bank dataset</a>, so be sure to review that.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Target Variable</p>
<p>One oddity here is that our target feature is simply labled <code>y</code>, but it's a boolean indicating "y" or "n", did the client subscribe to a term deposit.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Binning</p>
<p>Just as you did with the Titanic dataset when you reduced the number of titles, you may find it useful to "bin" categorical features into discrete groups in order to address some of the questions above. There are multiple ways to do this, but previously we used the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html"><code>map()</code> function</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Decision Trees</p>
<p>You can find documentation on how to use decision trees with sci-kit learn on these pages:</p>
<ul>
<li><a href="https://scikit-learn.org/stable/modules/tree.html">User Guide Entry for Decision Trees</a></li>
<li><a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">API Reference for DecisionTreeClassifier</a></li>
<li><a href="https://scikit-learn.org/stable/modules/tree.html#tips-on-practical-use">Tips for Practical Use, from the User Guide</a></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Model Persistence</p>
<p>When you train a model, a large amount of information is stored in memory. That model can then be used to make predictions for new instances at a later time.</p>
<p>You'll want to save these trained models using python's <code>pickle</code> module, <a href="https://scikit-learn.org/stable/modules/model_persistence.html">as shown here</a>.</p>
<p>However, rather than using pickle's default protocol version, you should use <a href="https://docs.python.org/3/library/pickle.html#data-stream-format">protocol version 5</a>, which was introduced in Python 3.8  and is optimized for dealing with structures that contain numpy arrays and pandas data frames.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Model Ensembles, Bagging, and Boosting</p>
<p>Often, we can get better results by using a set of models, each using a slightly different set of training data, or other parameters. These are called "Model Ensembles" and it's very common to use an ensemble of decision trees (often called a "Random Forest") rather than a single tree.</p>
<p>Two popular techniques used in the creation of ensembles are "boosting" and "bagging". You can read more about these topics on pages 163 - 167 of your textbook.</p>
<p>For details on how to use these techniques with Sci-Kit Learn, see <a href="https://scikit-learn.org/stable/modules/ensemble.html">this page</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Avoiding overfitting through pruning</p>
<p>It is <em>very</em> easy to overfit a decision tree. The text discusses strategies to avoid this problem in section 4.4.4 (pages 158 - 163).</p>
<p>In SciKit-Learn, you can use <a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">parameters such as max_depth and min_samples_leaf</a> to control tree complexity and overfitting.</p>
<p>Alternatively, you can use something more elaborate, such as <a href="https://scikit-learn.org/stable/auto_examples/tree/plot_cost_complexity_pruning.html#sphx-glr-auto-examples-tree-plot-cost-complexity-pruning-py">cost complexity pruning</a>.</p>
</div>
<div class="dialogue">
    <img src="https://byui-cse.github.io/cse450-course/shared/img/johnny.jpg">
    <h5>Johnny, the Data Science Intern, drops by your hotel room around midnight:</h5>
    <blockquote><p>Okay, just one last thing, if you need any more help at all, I put together <a href='./hints.html'>this collection of Google Colab notebooks</a> that might be useful.</p></blockquote>
</div>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><a href="https://unsplash.com/photos/-Ir03_pgpMU">CEO photo by Oz Seyrek on Unsplash </a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><a href="https://unsplash.com/photos/SJvDxw0azqw">VP of HR photo by Christina @ wocintechchat.com</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p><a href="https://unsplash.com/photos/ml-pxK0Ovmw">VP of Finance photo by steffen Wienberg on Unsplash</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p><a href="https://unsplash.com/photos/iczrMDNuvzkml-pxK0Ovmw">Data Science Intern photo by Fábio Lucas on Unsplash</a>&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p><a href="https://unsplash.com/photos/iczrMDNuvzkml-pxK0Ovmw">Data Science Intern photo by Fábio Lucas on Unsplash</a>&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>
	</article>
	<script src="https://byui-cse.github.io/cse450-course/shared/lib/highlight/highlight.pack.js"></script>
	<script src="https://byui-cse.github.io/cse450-course/shared/lib/katex/katex.min.js"></script>
    <script src="https://byui-cse.github.io/cse450-course/shared/lib/katex/contrib/auto-render.min.js"></script>
	<script src="https://byui-cse.github.io/cse450-course/shared/lib/smartquotes/smartquotes.min.js"></script>
    <script>

        /* Startup scripts for katex rendering */
    	renderMathInElement(document.body,
		{
			delimiters: [
				{left: "$$", right: "$$", display: true},
				{left: "$", right: "$", display: false},
			]
    	});

        /* Highlighting code */
    	hljs.initHighlightingOnLoad();
    	var elements = document.querySelectorAll('.language-text')
		for (var i = 0; i < elements.length; i++) {
  			elements[i].classList.add('hljs');
		}

        /* TOC support */
        var hideContents = function(e){
            console.log(e.target);
            if(e.target.id === 'modal-screen' || e.target.nodeName.toLowerCase() === 'i') {
                e.preventDefault();
                document.querySelector('#contents-wrapper').classList.remove('active');
                document.querySelector('#modal-screen').classList.remove('active');
            }
        }

        var showContents = function(e){
            e.preventDefault();
            document.querySelector('#contents-wrapper').classList.add('active');
            document.querySelector('#modal-screen').classList.add('active');
        }

        document.querySelector("#hide-contents").addEventListener('click', hideContents);
        document.querySelector("#modal-screen").addEventListener('click', hideContents);
        document.querySelector("#show-contents").addEventListener('click', showContents);
    	
    </script>
</body>
</html>